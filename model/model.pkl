# model_training.py
from sklearn.ensemble import RandomForestClassifier
import pandas as pd
import joblib

# Load & siapkan data
df = pd.read_csv("data/dataset.csv", header=None)
df = df[0].str.split(";", expand=True)
df.columns = ["Asal", "Biaya", "Minat", "Akses", "Kualitas", "Memilih"]

X = df[["Asal", "Biaya", "Minat", "Akses", "Kualitas"]].astype(int)
y = df["Memilih"]

# Latih model
model = RandomForestClassifier()
model.fit(X, y)

# Simpan model dengan joblib, cara aman
joblib.dump(model, "model/model.pkl", compress=3)
